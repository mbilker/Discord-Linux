'use strict';

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _electron = require('electron');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('I run before anything else');

var mainProcess = _electron.remote.require('./VoiceEngine');
var runWebpackCb = false;

function noop() {};

function webpackCb(chunkIds, moreModules) {
  if (runWebpackCb) return;
  runWebpackCb = true;

  console.log('parent webpack');

  setImmediate(afterInitialJsonp);
}

function findWebpackModule(exportedToLookFor) {
  var webpackRequire = window.__webpackRequire;
  var mod = webpackRequire.c;
  var results = [];

  for (var i = 0; i < webpackRequire.m.length; i++) {
    if (mod[i] && mod[i].exports && exportedToLookFor.every(function (x) {
      return mod[i].exports[x];
    })) {
      results.push(mod[i]);
    }
  }

  return results;
}

var loadedVoiceEngine = null;
function findWebRTCModule() {
  if (loadedVoiceEngine) {
    return loadedVoiceEngine;
  }

  var voiceLoader = findWebpackModule(['handleSessionDescription']).filter(function (x) {
    return __webpackRequire.m[x.id].toString().match(/webkitGetUserMedia/);
  })[0];
  if (!voiceLoader) {
    throw new Error('Cannot find voice engine loader');
  }
  var text = __webpackRequire.m[voiceLoader.id].toString();
  var reg = /n\(([0-9]+)\)/g;
  var results = [];
  var res = null;

  while (res = reg.exec(text)) {
    results.push(res);
  }

  loadedVoiceEngine = results.filter(function (x) {
    return !__webpackRequire.c[x[1]];
  }).map(function (x) {
    return parseInt(x[1]);
  })[0];

  return loadedVoiceEngine;
}

var lastVoiceEngine = null;
function shimVoiceEngine(voiceEngine) {
  if (voiceEngine === lastVoiceEngine) {
    return;
  }

  lastVoiceEngine = voiceEngine;
  console.log('shimming', voiceEngine);

  var num = findWebRTCModule();
  var obj = __webpackRequire(num);

  var playSound = findWebpackModule(['playSound']).filter(function (x) {
    return Object.keys(x.exports).length === 1;
  })[0].exports.playSound;


  Object.assign(voiceEngine, obj);
  voiceEngine.playSound = function playSound2(name, volume) {
    playSound(name, volume, true);
  };

  obj.onSpeaking(function () {
    var _console;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    (_console = console).log.apply(_console, ['onSpeaking'].concat(args));
    mainProcess.handleOnSpeakingEvent.apply(mainProcess, args);
  });
  obj.onVoiceActivity(function () {
    mainProcess.handleOnVoiceEvent.apply(mainProcess, arguments);
  });
  //obj.onDevicesChanged((...args) => {
  //  mainProcess.handleOnDevicesChangedEvent(...args);
  //});
  obj.getInputDevices(function (devices) {
    var device = devices[0].id;
    obj.setInputDevice(device);

    obj.enable(function (err) {
      console.log('VoiceEngine.enable', err);
    });
  });
}

function injectedModule(module, exports, webpackRequire) {
  console.log('injected module');

  var modules = webpackRequire.c;
  var webpackVoiceEngines = [];

  window.__webpackRequire = webpackRequire;
  window.__voiceEngines = webpackVoiceEngines;

  for (var i = 0; i < webpackRequire.m.length; i++) {
    if (modules[i] && modules[i].exports && modules[i].exports.handleSessionDescription) {
      webpackVoiceEngines.push(modules[i]);
      break;
    }
  }

  if (webpackVoiceEngines.length) {
    for (var i = 0; i < webpackVoiceEngines.length; i++) {
      shimVoiceEngine(webpackVoiceEngines[i].exports);
    }
  }

  module.exports = { mbilker: true };
}

function afterInitialJsonp() {
  console.log(window['webpackJsonp']);

  window['webpackJsonp']([0], [injectedModule]);
}

//window['webpackJsonp'] = console.log.bind(console, 'parent webpack:');
window['webpackJsonp'] = webpackCb;
window['findWebpackModule'] = findWebpackModule;
window['findWebRTCModule'] = findWebRTCModule;
window['getVoiceEngine'] = function () {
  return lastVoiceEngine;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYi5Wb2ljZUVuZ2luZS5zaGltLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxRQUFRLEdBQVIsQ0FBWSw0QkFBWjs7QUFLQSxJQUFNLGNBQWMsaUJBQU8sT0FBUCxDQUFlLGVBQWYsQ0FBZDtBQUNOLElBQUksZUFBZSxLQUFmOztBQUVKLFNBQVMsSUFBVCxHQUFnQixFQUFoQjs7QUFFQSxTQUFTLFNBQVQsQ0FBbUIsUUFBbkIsRUFBNkIsV0FBN0IsRUFBMEM7QUFDeEMsTUFBSSxZQUFKLEVBQWtCLE9BQWxCO0FBQ0EsaUJBQWUsSUFBZixDQUZ3Qzs7QUFJeEMsVUFBUSxHQUFSLENBQVksZ0JBQVosRUFKd0M7O0FBTXhDLGVBQWEsaUJBQWIsRUFOd0M7Q0FBMUM7O0FBU0EsU0FBUyxpQkFBVCxDQUEyQixpQkFBM0IsRUFBOEM7QUFDNUMsTUFBTSxpQkFBaUIsT0FBTyxnQkFBUCxDQURxQjtBQUU1QyxNQUFNLE1BQU0sZUFBZSxDQUFmLENBRmdDO0FBRzVDLE1BQUksVUFBVSxFQUFWLENBSHdDOztBQUs1QyxPQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxlQUFlLENBQWYsQ0FBaUIsTUFBakIsRUFBeUIsR0FBN0MsRUFBa0Q7QUFDaEQsUUFBSSxJQUFJLENBQUosS0FBVSxJQUFJLENBQUosRUFBTyxPQUFQLElBQWtCLGtCQUFrQixLQUFsQixDQUF3QjthQUFLLElBQUksQ0FBSixFQUFPLE9BQVAsQ0FBZSxDQUFmO0tBQUwsQ0FBcEQsRUFBNkU7QUFDL0UsY0FBUSxJQUFSLENBQWEsSUFBSSxDQUFKLENBQWIsRUFEK0U7S0FBakY7R0FERjs7QUFNQSxTQUFPLE9BQVAsQ0FYNEM7Q0FBOUM7O0FBY0EsSUFBSSxvQkFBb0IsSUFBcEI7QUFDSixTQUFTLGdCQUFULEdBQTRCO0FBQzFCLE1BQUksaUJBQUosRUFBdUI7QUFDckIsV0FBTyxpQkFBUCxDQURxQjtHQUF2Qjs7QUFJQSxNQUFNLGNBQWMsa0JBQWtCLENBQUMsMEJB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LHNCQUFzQixFQUF0QixDQUptRDs7QUFNdkQsU0FBTyxnQkFBUCxHQUEwQixjQUExQixDQU51RDtBQU92RCxTQUFPLGNBQVAsR0FBd0IsbUJBQXhCLENBUHVEOztBQVN2RCxPQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxlQUFlLENBQWYsQ0FBaUIsTUFBakIsRUFBeUIsR0FBN0MsRUFBa0Q7QUFDaEQsUUFBSSxRQUFRLENBQVIsS0FBYyxRQUFRLENBQVIsRUFBVyxPQUFYLElBQXNCLFFBQVEsQ0FBUixFQUFXLE9BQVgsQ0FBbUIsd0JBQW5CLEVBQTZDO0FBQ25GLDBCQUFvQixJQUFwQixDQUF5QixRQUFRLENBQVIsQ0FBekIsRUFEbUY7QUFFbkYsWUFGbUY7S0FBckY7R0FERjs7QUFPQSxNQUFJLG9CQUFvQixNQUFwQixFQUE0QjtBQUM5QixTQUFLLElBQUksSUFBSSxDQUFKLEVBQU8sSUFBSSxvQkFBb0IsTUFBcEIsRUFBNEIsR0FBaEQsRUFBcUQ7QUFDbkQsc0JBQWdCLG9CQUFvQixDQUFwQixFQUF1QixPQUF2QixDQUFoQixDQURtRDtLQUFyRDtHQURGOztBQU1BLFNBQU8sT0FBUCxHQUFpQixFQUFFLFNBQVMsSUFBVCxFQUFuQixDQXRCdUQ7Q0FBekQ7O0FBeUJBLFNBQVMsaUJBQVQsR0FBNkI7QUFDM0IsVUFBUSxHQUFSLENBQVksT0FBTyxjQUFQLENBQVosRUFEMkI7O0FBRzNCLFNBQU8sY0FBUCxFQUF1QixDQUFDLENBQUQsQ0FBdkIsRUFBNEIsQ0FBQyxjQUFELENBQTVCLEVBSDJCO0NBQTdCOzs7QUFPQSxPQUFPLGNBQVAsSUFBeUIsU0FBekI7QUFDQSxPQUFPLG1CQUFQLElBQThCLGlCQUE5QjtBQUNBLE9BQU8sa0JBQVAsSUFBNkIsZ0JBQTdCO0FBQ0EsT0FBTyxnQkFBUCxJQUEyQjtTQUFNO0NBQU4iLCJmaWxlIjoid2ViLlZvaWNlRW5naW5lLnNoaW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zb2xlLmxvZygnSSBydW4gYmVmb3JlIGFueXRoaW5nIGVsc2UnKTtcblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBpcGNSZW5kZXJlciwgcmVtb3RlIH0gZnJvbSAnZWxlY3Ryb24nO1xuXG5jb25zdCBtYWluUHJvY2VzcyA9IHJlbW90ZS5yZXF1aXJlKCcuL1ZvaWNlRW5naW5lJyk7XG52YXIgcnVuV2VicGFja0NiID0gZmFsc2U7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fTtcblxuZnVuY3Rpb24gd2VicGFja0NiKGNodW5rSWRzLCBtb3JlTW9kdWxlcykge1xuICBpZiAocnVuV2VicGFja0NiKSByZXR1cm47XG4gIHJ1bldlYnBhY2tDYiA9IHRydWU7XG5cbiAgY29uc29sZS5sb2coJ3BhcmVudCB3ZWJwYWNrJyk7XG5cbiAgc2V0SW1tZWRpYXRlKGFmdGVySW5pdGlhbEpzb25wKTtcbn1cblxuZnVuY3Rpb24gZmluZFdlYnBhY2tNb2R1bGUoZXhwb3J0ZWRUb0xvb2tGb3IpIHtcbiAgY29uc3Qgd2VicGFja1JlcXVpcmUgPSB3aW5kb3cuX193ZWJwYWNrUmVxdWlyZTtcbiAgY29uc3QgbW9kID0gd2VicGFja1JlcXVpcmUuYztcbiAgbGV0IHJlc3VsdHMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYnBhY2tSZXF1aXJlLm0ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobW9kW2ldICYmIG1vZFtpXS5leHBvcnRzICYmIGV4cG9ydGVkVG9Mb29rRm9yLmV2ZXJ5KHggPT4gbW9kW2ldLmV4cG9ydHNbeF0pKSB7XG4gICAgICByZXN1bHRzLnB1c2gobW9kW2ldKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cztcbn1cblxubGV0IGxvYWRlZFZvaWNlRW5naW5lID0gbnVsbDtcbmZ1bmN0aW9uIGZpbmRXZWJSVENNb2R1bGUoKSB7XG4gIGlmIChsb2FkZWRWb2ljZUVuZ2luZSkge1xuICAgIHJldHVybiBsb2FkZWRWb2ljZUVuZ2luZTtcbiAgfVxuXG4gIGNvbnN0IHZvaWNlTG9hZGVyID0gZmluZFdlYnBhY2tNb2R1bGUoWydoYW5kbGVTZXNzaW9uRGVzY3JpcHRpb24nXSlcbiAgICAuZmlsdGVyKHggPT4gX193ZWJwYWNrUmVxdWlyZS5tW3guaWRdLnRvU3RyaW5nKCkubWF0Y2goL3dlYmtpdEdldFVzZXJNZWRpYS8pKVswXTtcbiAgaWYgKCF2b2ljZUxvYWRlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZpbmQgdm9pY2UgZW5naW5lIGxvYWRlcicpO1xuICB9XG4gIGNvbnN0IHRleHQgPSBfX3dlYnBhY2tSZXF1aXJlLm1bdm9pY2VMb2FkZXIuaWRdLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHJlZyA9IC9uXFwoKFswLTldKylcXCkvZztcbiAgbGV0IHJlc3VsdHMgPSBbXTtcbiAgdmFyIHJlcyA9IG51bGw7XG5cbiAgd2hpbGUgKChyZXMgPSByZWcuZXhlYyh0ZXh0KSkpIHtcbiAgICByZXN1bHRzLnB1c2gocmVzKTtcbiAgfVxuXG4gIGxvYWRlZFZvaWNlRW5naW5lID0gIHJlc3VsdHNcbiAgICAuZmlsdGVyKHggPT4gIV9fd2VicGFja1JlcXVpcmUuY1t4WzFdXSlcbiAgICAubWFwKHggPT4gcGFyc2VJbnQoeFsxXSkpWzBdO1xuXG4gIHJldHVybiBsb2FkZWRWb2ljZUVuZ2luZTtcbn1cblxubGV0IGxhc3RWb2ljZUVuZ2luZSA9IG51bGw7XG5mdW5jdGlvbiBzaGltVm9pY2VFbmdpbmUodm9pY2VFbmdpbmUpIHtcbiAgaWYgKHZvaWNlRW5naW5lID09PSBsYXN0Vm9pY2VFbmdpbmUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsYXN0Vm9pY2VFbmdpbmUgPSB2b2ljZUVuZ2luZTtcbiAgY29uc29sZS5sb2coJ3NoaW1taW5nJywgdm9pY2VFbmdpbmUpO1xuXG4gIGNvbnN0IG51bSA9IGZpbmRXZWJSVENNb2R1bGUoKTtcbiAgY29uc3Qgb2JqID0gX193ZWJwYWNrUmVxdWlyZShudW0pO1xuXG4gIGNvbnN0IHtwbGF5U291bmR9ID0gZmluZFdlYnBhY2tNb2R1bGUoWydwbGF5U291bmQnXSkuZmlsdGVyKHggPT4gT2JqZWN0LmtleXMoeC5leHBvcnRzKS5sZW5ndGggPT09IDEpWzBdLmV4cG9ydHM7XG5cbiAgT2JqZWN0LmFzc2lnbih2b2ljZUVuZ2luZSwgb2JqKTtcbiAgdm9pY2VFbmdpbmUucGxheVNvdW5kID0gZnVuY3Rpb24gcGxheVNvdW5kMihuYW1lLCB2b2x1bWUpIHtcbiAgICBwbGF5U291bmQobmFtZSwgdm9sdW1lLCB0cnVlKTtcbiAgfTtcblxuICBvYmoub25TcGVha2luZygoLi4uYXJncykgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdvblNwZWFraW5nJywgLi4uYXJncyk7XG4gICAgbWFpblByb2Nlc3MuaGFuZGxlT25TcGVha2luZ0V2ZW50KC4uLmFyZ3MpO1xuICB9KTtcbiAgb2JqLm9uVm9pY2VBY3Rpdml0eSgoLi4uYXJncykgPT4ge1xuICAgIG1haW5Qcm9jZXNzLmhhbmRsZU9uVm9pY2VFdmVudCguLi5hcmdzKTtcbiAgfSk7XG4gIC8vb2JqLm9uRGV2aWNlc0NoYW5nZWQoKC4uLmFyZ3MpID0+IHtcbiAgLy8gIG1haW5Qcm9jZXNzLmhhbmRsZU9uRGV2aWNlc0NoYW5nZWRFdmVudCguLi5hcmdzKTtcbiAgLy99KTtcbiAgb2JqLmdldElucHV0RGV2aWNlcygoZGV2aWNlcykgPT4ge1xuICAgIGNvbnN0IGRldmljZSA9IGRldmljZXNbMF0uaWQ7XG4gICAgb2JqLnNldElucHV0RGV2aWNlKGRldmljZSk7XG5cbiAgICBvYmouZW5hYmxlKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdWb2ljZUVuZ2luZS5lbmFibGUnLCBlcnIpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0ZWRNb2R1bGUobW9kdWxlLCBleHBvcnRzLCB3ZWJwYWNrUmVxdWlyZSkge1xuICBjb25zb2xlLmxvZygnaW5qZWN0ZWQgbW9kdWxlJyk7XG5cbiAgY29uc3QgbW9kdWxlcyA9IHdlYnBhY2tSZXF1aXJlLmM7XG4gIGxldCB3ZWJwYWNrVm9pY2VFbmdpbmVzID0gW107XG5cbiAgd2luZG93Ll9fd2VicGFja1JlcXVpcmUgPSB3ZWJwYWNrUmVxdWlyZTtcbiAgd2luZG93Ll9fdm9pY2VFbmdpbmVzID0gd2VicGFja1ZvaWNlRW5naW5lcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYnBhY2tSZXF1aXJlLm0ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobW9kdWxlc1tpXSAmJiBtb2R1bGVzW2ldLmV4cG9ydHMgJiYgbW9kdWxlc1tpXS5leHBvcnRzLmhhbmRsZVNlc3Npb25EZXNjcmlwdGlvbikge1xuICAgICAgd2VicGFja1ZvaWNlRW5naW5lcy5wdXNoKG1vZHVsZXNbaV0pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHdlYnBhY2tWb2ljZUVuZ2luZXMubGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3ZWJwYWNrVm9pY2VFbmdpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzaGltVm9pY2VFbmdpbmUod2VicGFja1ZvaWNlRW5naW5lc1tpXS5leHBvcnRzKTtcbiAgICB9XG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IHsgbWJpbGtlcjogdHJ1ZSB9O1xufVxuXG5mdW5jdGlvbiBhZnRlckluaXRpYWxKc29ucCgpIHtcbiAgY29uc29sZS5sb2cod2luZG93Wyd3ZWJwYWNrSnNvbnAnXSk7XG5cbiAgd2luZG93Wyd3ZWJwYWNrSnNvbnAnXShbMF0sIFtpbmplY3RlZE1vZHVsZV0pO1xufVxuXG4vL3dpbmRvd1snd2VicGFja0pzb25wJ10gPSBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUsICdwYXJlbnQgd2VicGFjazonKTtcbndpbmRvd1snd2VicGFja0pzb25wJ10gPSB3ZWJwYWNrQ2I7XG53aW5kb3dbJ2ZpbmRXZWJwYWNrTW9kdWxlJ10gPSBmaW5kV2VicGFja01vZHVsZTtcbndpbmRvd1snZmluZFdlYlJUQ01vZHVsZSddID0gZmluZFdlYlJUQ01vZHVsZTtcbndpbmRvd1snZ2V0Vm9pY2VFbmdpbmUnXSA9ICgpID0+IGxhc3RWb2ljZUVuZ2luZTtcbiJdfQ==

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcmVsb2FkLmpzIn0=